<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
		 version="4.0">

	<!-- 1. 上下文配置 -->
	<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>classpath:spring/applicationContext.xml</param-value>
	</context-param>
	<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
	</listener>
	<!--	<context-param>-->
	<!--		<param-name>server.max-http-header-size</param-name>-->
	<!--		<param-value>8192</param-value>-->
	<!--	</context-param>-->

	<!-- 2. DispatcherServlet 配置 -->
	<servlet>
		<servlet-name>springDispatcherServlet</servlet-name>
		<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
		<init-param>
			<param-name>contextConfigLocation</param-name>
			<param-value>classpath:spring/spring-mvc.xml</param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
		<!-- 启用 Servlet 3.0 文件上传 -->
		<multipart-config>
			<max-file-size>10485760</max-file-size>
			<max-request-size>10485760</max-request-size>
			<file-size-threshold>4096</file-size-threshold>
		</multipart-config>
	</servlet>
	<servlet-mapping>
		<servlet-name>springDispatcherServlet</servlet-name>
		<url-pattern>/</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>default</servlet-name>
		<url-pattern>/assets/*</url-pattern>
	</servlet-mapping>


	<!-- 3. 字符编码过滤器（必须放在第一个） -->
	<filter>
		<filter-name>characterEncodingFilter</filter-name>
		<filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
		<init-param>
			<param-name>encoding</param-name>
			<param-value>UTF-8</param-value>
		</init-param>
		<init-param>
			<param-name>forceEncoding</param-name>
			<param-value>true</param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>characterEncodingFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>

	<!-- 4. 内存清理监听器 -->
	<listener>
		<listener-class>org.springframework.web.util.IntrospectorCleanupListener</listener-class>
	</listener>
	<!--	<listener>-->
	<!--		<listener-class>com.redtourism.listener.JdbcDriverCleanupListener</listener-class>-->
	<!--	</listener>-->
	<context-param>
		<param-name>botId</param-name>
		<param-value>7496828922253525032</param-value>
	</context-param>
	<context-param>
		<param-name>token</param-name>
		<param-value>pat_tYDwpMB5TxSYzKvaGGfpxzBR5CCA05XfxjZFnkqcX9niFjHF0bZgGDKQfHcwxyOo</param-value>
	</context-param>
	<context-param>
		<param-name>googleWeatherApiKey</param-name>
		<param-value>65025c364e9d25ddf98a87903a6a3a36</param-value>
	</context-param>
</web-app>
<!--<?xml version="1.0" encoding="UTF-8"?>-->
<!--<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"-->
<!--		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
<!--		 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee-->
<!--         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"-->
<!--		 version="4.0">-->

<!--	&lt;!&ndash; 1. 上下文配置 &ndash;&gt;-->
<!--	<context-param>-->
<!--		<param-name>contextConfigLocation</param-name>-->
<!--		<param-value>classpath:spring/applicationContext.xml</param-value>-->
<!--	</context-param>-->
<!--	<listener>-->
<!--		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>-->
<!--	</listener>-->
<!--&lt;!&ndash;	<context-param>&ndash;&gt;-->
<!--&lt;!&ndash;		<param-name>server.max-http-header-size</param-name>&ndash;&gt;-->
<!--&lt;!&ndash;		<param-value>8192</param-value>&ndash;&gt;-->
<!--&lt;!&ndash;	</context-param>&ndash;&gt;-->

<!--	&lt;!&ndash; 2. DispatcherServlet 配置 &ndash;&gt;-->
<!--	<servlet>-->
<!--		<servlet-name>springDispatcherServlet</servlet-name>-->
<!--		<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>-->
<!--		<init-param>-->
<!--			<param-name>contextConfigLocation</param-name>-->
<!--			<param-value>classpath:spring/spring-mvc.xml</param-value>-->
<!--		</init-param>-->
<!--		<load-on-startup>1</load-on-startup>-->
<!--		&lt;!&ndash; 启用 Servlet 3.0 文件上传 &ndash;&gt;-->
<!--		<multipart-config>-->
<!--			<max-file-size>10485760</max-file-size>-->
<!--			<max-request-size>10485760</max-request-size>-->
<!--			<file-size-threshold>4096</file-size-threshold>-->
<!--		</multipart-config>-->
<!--	</servlet>-->
<!--	<servlet-mapping>-->
<!--		<servlet-name>springDispatcherServlet</servlet-name>-->
<!--		<url-pattern>/</url-pattern>-->
<!--	</servlet-mapping>-->
<!--	<servlet-mapping>-->
<!--		<servlet-name>default</servlet-name>-->
<!--		<url-pattern>/assets/*</url-pattern>-->
<!--	</servlet-mapping>-->


<!--	&lt;!&ndash; 3. 字符编码过滤器（必须放在第一个） &ndash;&gt;-->
<!--	<filter>-->
<!--		<filter-name>characterEncodingFilter</filter-name>-->
<!--		<filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>-->
<!--		<init-param>-->
<!--			<param-name>encoding</param-name>-->
<!--			<param-value>UTF-8</param-value>-->
<!--		</init-param>-->
<!--		<init-param>-->
<!--			<param-name>forceEncoding</param-name>-->
<!--			<param-value>true</param-value>-->
<!--		</init-param>-->
<!--	</filter>-->
<!--	<filter-mapping>-->
<!--		<filter-name>characterEncodingFilter</filter-name>-->
<!--		<url-pattern>/*</url-pattern>-->
<!--	</filter-mapping>-->

<!--	&lt;!&ndash; 4. 内存清理监听器 &ndash;&gt;-->
<!--	<listener>-->
<!--		<listener-class>org.springframework.web.util.IntrospectorCleanupListener</listener-class>-->
<!--	</listener>-->
<!--	<context-param>-->
<!--		<param-name>botId</param-name>-->
<!--		<param-value>7496828922253525032</param-value>-->
<!--	</context-param>-->
<!--	<context-param>-->
<!--		<param-name>token</param-name>-->
<!--		<param-value>pat_tYDwpMB5TxSYzKvaGGfpxzBR5CCA05XfxjZFnkqcX9niFjHF0bZgGDKQfHcwxyOo</param-value>-->
<!--	</context-param>-->

<!--	<context-param>-->
<!--		<param-name>amap.key</param-name>-->
<!--		<param-value>4156e710dcfdb09842462b89614b5e12</param-value>-->
<!--	</context-param>-->
<!--	<context-param>-->
<!--		<param-name>amap.securityJsCode</param-name>-->
<!--		<param-value>d1b1348a0611c2d0f741f909385cb505</param-value>-->
<!--	</context-param>-->
<!--	<context-param>-->
<!--		<param-name>googleWeatherApiKey</param-name>-->
<!--		<param-value>65025c364e9d25ddf98a87903a6a3a36</param-value>-->
<!--	</context-param>-->
<!--</web-app>-->
