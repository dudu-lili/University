<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.redtourism.mapper.RecommendationMapper">

    <!-- 获取用户收藏的景点ID列表 -->
    <select id="getUserFavoriteScenics" resultType="int">
        SELECT scenic_id FROM favorite WHERE user_id = #{userId} AND scenic_id IS NOT NULL
    </select>

    <!-- 获取用户收藏的路线ID列表 -->
    <select id="getUserFavoriteRoutes" resultType="int">
        SELECT route_id FROM favorite WHERE user_id = #{userId} AND route_id IS NOT NULL
    </select>

    <!-- 获取所有景点信息 -->
    <select id="getAllScenics" resultType="com.redtourism.entity.ScenicSpot">
        SELECT * FROM scenic_spot
    </select>

    <!-- 获取所有路线信息 -->
    <select id="getAllRoutes" resultType="com.redtourism.entity.TravelRoute">
        SELECT * FROM travel_route
    </select>

    <!-- 获取指定用户收藏的所有项目 -->
    <select id="getUserFavorites" resultType="map">
        SELECT user_id, scenic_id, route_id FROM favorite WHERE user_id = #{userId}
    </select>

    <!-- 获取所有用户的收藏记录 -->
    <select id="getAllUserFavorites" resultType="map">
        SELECT user_id, scenic_id, route_id FROM favorite
    </select>

    <!-- 获取所有景点信息（按ID排序） -->
    <select id="getAllScenicsWithDefaultOrder" resultType="com.redtourism.entity.ScenicSpot">
    SELECT * FROM scenic_spot ORDER BY id
</select>

    <!-- 获取所有路线信息（按ID排序） -->
    <select id="getAllRoutesWithDefaultOrder" resultType="com.redtourism.entity.TravelRoute">
    SELECT * FROM travel_route ORDER BY id
</select>
</mapper>